(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{21:function(e,t,n){e.exports={app:"App_app__2ziFi",navigation:"App_navigation__dUcBC"}},25:function(e,t,n){e.exports={list:"style_list__l1rXo","-disabled":"style_-disabled__30jHs"}},30:function(e,t,n){e.exports={catcher:"style_catcher__31hN_"}},31:function(e,t,n){e.exports={spinner:"styles_spinner__Rvp22"}},34:function(e,t,n){e.exports=n(45)},45:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(19),s=n(17);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=n(6),i=n(18),u="START_FETCHING",l="STOP_FETCHING",p="EMIT_ERROR",h=Object(i.b)({isFetching:!1}),f=n(16),m=n.n(f),b="FILL_USERS",d="CLEAR_USERS",v="FETCH_USERS_ASYNC",y=Object(i.a)(),O=Object(o.c)({ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return e.set("isFetching",!0);case l:return e.set("isFetching",!1);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(i.c)(t.payload).groupBy((function(e){return parseInt(m()(e.dob).format("M"))-1}));case d:return e.clear();default:return e}}}),_=n(7),E=n.n(_),g=n(5),j={users:{fetch:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){return fetch("".concat("https://yalantis-react-school.herokuapp.com/api","/task0/users"),{method:"GET"})}))}},w=function(){return{type:u}},k=function(){return{type:l}},C=function(e,t){return{type:p,payload:e,error:!0,meta:t}},x={fillUsers:function(e){return{type:b,payload:e}},clearUsers:function(){return{type:d}},fetchUsersAsync:function(){return{type:v}}},S=E.a.mark(U);function U(){var e,t;return E.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(g.d)(w());case 3:return n.next=5,Object(g.b)(j,j.users.fetch,[]);case 5:return e=n.sent,n.next=8,Object(g.b)(e,e.json,[]);case 8:if(t=n.sent,200===e.status){n.next=11;break}throw new Error("\ud83d\udea8 shit happens");case 11:return n.next=13,Object(g.d)(x.fillUsers(t));case 13:n.next=19;break;case 15:return n.prev=15,n.t0=n.catch(0),n.next=19,Object(g.d)(C(n.t0,"fetchUsers worker"));case 19:return n.prev=19,n.next=22,Object(g.d)(k());case 22:return n.finish(19);case 23:case"end":return n.stop()}}),S,null,[[0,15,19,23]])}var M=E.a.mark(A),F=E.a.mark(N);function A(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.e)(v,U);case 2:case"end":return e.stop()}}),M)}function N(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Object(g.c)(A)]);case 2:case"end":return e.stop()}}),F)}var T=E.a.mark(R);function R(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.a)([Object(g.c)(N)]);case 2:case"end":return e.stop()}}),T)}var D=n(29),I=n(32),L=(Object(D.createLogger)({duration:!0,collapsed:!0,colors:{title:function(){return"#139BFE"},prevState:function(){return"#15C5FAF"},action:function(){return"#149945"},nextState:function(){return"#A47104"},error:function(){return"#ff0005"}}}),Object(I.a)()),Y=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,[L]);var B=(0,o.d)(o.a.apply(void 0,Y)),H=Object(o.e)(O,B);L.run(R);var G,X=n(10),z=n(11),J=n(13),P=n(12),W=n(14),K=n(33);!function(e){e.gray="gray",e.blue="blue",e.green="green",e.red="red",e.white="white"}(G||(G={}));var V=n(25),$=n.n(V),q=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(a)))).state={didThrow:!1},n.__didCatch=function(){n.setState({didThrow:!0})},n}return Object(W.a)(t,e),Object(z.a)(t,[{key:"__genColor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=function(t,n){return e>=t&&(!n||e<=n)};switch(!0){case t(0,2):return G.gray;case t(3,6):return G.blue;case t(7,10):return G.green;case t(11):return G.red;default:return G.white}}},{key:"render",value:function(){var e=this,t=this.props,n=t.users,r=t.selectMonth;if(this.state.didThrow)throw new Error("YOLO");var c=m.a.months().map((function(t,c){var s=n.get(c),o=s?s.size:0,i=e.__genColor(o);return a.a.createElement("li",{className:0===o?$.a["-disabled"]:"",onMouseOut:function(){r(void 0)},onMouseOver:function(){r(c)},key:"month".concat(c)},a.a.createElement("mark",{style:{background:i}}),a.a.createElement("span",null,t," (",o,")"))}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:$.a.list},c),a.a.createElement("button",{onClick:this.__didCatch},"Did Catch",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\udea8")))}}]),t}(r.Component),Q=n(30),Z=n.n(Q),ee=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(a)))).state={error:!1},n}return Object(W.a)(t,e),Object(z.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log("ERROR:",e.message),console.log("STACKTRACE:",t.componentStack),this.setState({error:!0})}},{key:"render",value:function(){var e=this.state.error,t=this.props.children;return e?a.a.createElement("section",{className:Z.a.catcher},a.a.createElement("span",null,"A mysterious ",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\udc7d")," \xa0error ",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\udcdb")," \xa0occured."),a.a.createElement("p",null,"Our space ",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\udef0")," \xa0engineers strike team ",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\udc69\ud83c\udffc\u200d\ud83d\ude80 \ud83d\udc68\ud83c\udffc\u200d\ud83d\ude80")," \xa0is already working ",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\ude80")," \xa0in order to fix that for you!")):t}}]),t}(r.Component),te=n(31),ne=n.n(te),re=function(e){function t(){return Object(X.a)(this,t),Object(J.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(z.a)(t,[{key:"render",value:function(){return this.props.isFetching?a.a.createElement("div",{className:ne.a.spinner}):""}}]),t}(r.Component),ae=Object(s.b)((function(e){return{isFetching:e.ui.get("isFetching")}}))(re),ce=n(21),se=n.n(ce),oe=function(e){function t(){var e,n;Object(X.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(J.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(a)))).state={currentMonth:void 0},n.__selectMonth=function(e){n.setState({currentMonth:e})},n.__clearUsers=function(){n.props.actions.clearUsers()},n.__fetchUsers=function(){n.props.actions.fetchUsersAsync()},n}return Object(W.a)(t,e),Object(z.a)(t,[{key:"componentDidMount",value:function(){this.__fetchUsers()}},{key:"render",value:function(){var e=this.props.users,t=this.state.currentMonth,n=e.get(t),r=n?n.map((function(e){var t=m()(e.dob).format("YYYY/MM/DD");return a.a.createElement("li",{key:e.id},a.a.createElement("span",null,e.firstName," ",e.lastName," - ",t))})):"";return a.a.createElement(ee,null,a.a.createElement("section",{className:se.a.app},a.a.createElement("div",null,a.a.createElement(q,{users:e,selectMonth:this.__selectMonth})),a.a.createElement("div",null,a.a.createElement("ol",{className:se.a.list},r)),a.a.createElement("div",{className:se.a.navigation},a.a.createElement(ae,null),a.a.createElement("button",{onClick:this.__fetchUsers},"Fetch Users",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\ude80")),"\xa0",a.a.createElement("button",{onClick:this.__clearUsers},"Clear Users",a.a.createElement("span",{"aria-labelledby":"",role:"img"},"\ud83d\uddd1")))))}}]),t}(r.Component),ie=Object(s.b)((function(e){return{currentMonth:e.currentMonth,users:e.users}}),(function(e){return{actions:Object(o.b)(Object(K.a)({},x),e)}}))(oe);Object(c.render)(a.a.createElement(s.a,{store:H}," ",a.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[34,1,2]]]);
//# sourceMappingURL=main.b678695b.chunk.js.map